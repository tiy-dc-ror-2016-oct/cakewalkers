<%= form_for order do |order_fields| %>


  <% @order.errors.full_messages.each do |message| %>
    <% if message.index("Full name") %>
      <div class="alert alert-danger"><%= message %></div>
      <% end %>
  <% end %>

  <div class="form-group">
    <%= order_fields.label :full_name, class: "control-label" %>
    <%= order_fields.text_field :full_name, class: "form-control" %>
  </div>


  <% @order.errors.full_messages.each do |message| %>
    <% if message.index("Email") %>
      <div class="alert alert-danger"><%= message %></div>
      <% end %>
  <% end %>

  <div class="form-group">
    <%= order_fields.label :email, class: "control-label" %>
    <%= order_fields.email_field :email, class: "form-control" %>
  </div>

  <br />

  <h4> Delivery Information </h4>

  <%= order_fields.fields_for :delivery_address do |delivery_address_fields| %>
    <div class="form-group">
      <%= delivery_address_fields.label :contact_phone, class: "control-label" %>
      <%= delivery_address_fields.phone_field :contact_phone, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= delivery_address_fields.label :street, class: "control-label" %>
      <%= delivery_address_fields.text_field :street, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= delivery_address_fields.label :city, class: "control-label" %>
      <%= delivery_address_fields.text_field :city, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= delivery_address_fields.label :state, class: "control-label" %>
      <%= delivery_address_fields.text_field :state, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= delivery_address_fields.label :zip_code, class: "control-label" %>
      <%= delivery_address_fields.text_field :zip_code, class: "form-control" %>
    </div>
  <% end %>

<br>

<input type="checkbox" name="check-address" id="check-address">
<em>Check this box if Billing Address and Mailing Address are the same.</em>

  <br />

  <div class="payment-errors">
  </div>


  <h4> Billing Information </h4>

    <div class="form-group">
      <%= label_tag :number, "Card Number", class: "control-label" %>
      <%= text_field_tag :number, nil, class: "card-number" %>
    </div>

    <div class="form-group">
      <%= label_tag :expiration_month,nil, class: "control-label" %>
      <%= text_field_tag :expiration_month, nil, class: "card-expiry-month" %>
    </div>

    <div class="form-group">
      <%= label_tag :expiration_year,nil, class: "control-label" %>
      <%= text_field_tag :expiration_year, nil, class: "card-expiry-year" %>
    </div>

    <div class="form-group">
      <%= label_tag :security_code,nil, class: "control-label" %>
      <%= text_field_tag :security_code, nil, class: "card-cvc" %>
    </div>

    <br />
    <%= order_fields.fields_for :billing_address do |billing_address_fields| %>
      <div class="form-group">
        <%= billing_address_fields.label :contact_phone, class: "control-label" %>
        <%= billing_address_fields.phone_field :contact_phone, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= billing_address_fields.label :street, class: "control-label" %>
        <%= billing_address_fields.text_field :street, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= billing_address_fields.label :city, class: "control-label" %>
        <%= billing_address_fields.text_field :city, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= billing_address_fields.label :state, class: "control-label" %>
        <%= billing_address_fields.text_field :state, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= billing_address_fields.label :zip_code, class: "control-label" %>
        <%= billing_address_fields.text_field :zip_code, class: "form-control" %>
      </div>
    <% end %>

  <%= order_fields.submit "Submit", class: "button btn btn-default" %>

<% end %>

<br>
